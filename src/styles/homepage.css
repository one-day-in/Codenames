/* ─── HOME PAGE ──────────────────────────────────────────────── */

.app {
    position: relative;
    min-height: 100dvh;
    display: grid;
    grid-template-rows: auto 1fr;
    overflow: hidden;
    isolation: isolate;
}

.app::before,
.app::after {
    content: '';
    position: absolute;
    pointer-events: none;
    z-index: 0;
    filter: blur(24px);
}

.app::before {
    width: clamp(320px, 52vw, 760px);
    height: clamp(320px, 52vw, 760px);
    top: -22%;
    left: -18%;
    background:
        radial-gradient(circle at 30% 30%, rgba(155, 195, 255, 0.36), rgba(155, 195, 255, 0) 54%),
        radial-gradient(circle at 58% 52%, rgba(224, 86, 255, 0.27), rgba(224, 86, 255, 0) 60%);
    opacity: 0.58;
    animation: dream-shift-a 18s ease-in-out infinite alternate;
}

.app::after {
    width: clamp(300px, 48vw, 700px);
    height: clamp(300px, 48vw, 700px);
    right: -16%;
    bottom: -20%;
    background:
        radial-gradient(circle at 40% 45%, rgba(255, 223, 174, 0.32), rgba(255, 223, 174, 0) 56%),
        radial-gradient(circle at 68% 58%, rgba(255, 58, 79, 0.25), rgba(255, 58, 79, 0) 64%);
    opacity: 0.52;
    animation: dream-shift-b 20s ease-in-out infinite alternate;
}

.app>.lobby-screen::after {
    content: '';
    position: absolute;
    inset: -18% -12%;
    pointer-events: none;
    z-index: -2;
    opacity: 0.34;
    background:
        conic-gradient(from 110deg at 52% 48%,
            rgba(255, 223, 174, 0.12),
            rgba(155, 195, 255, 0.18),
            rgba(0, 240, 255, 0.15),
            rgba(224, 86, 255, 0.16),
            rgba(255, 58, 79, 0.13),
            rgba(255, 223, 174, 0.12));
    filter: blur(38px) saturate(112%);
    transform: scale(1.12);
}

/* ─── LANGUAGE TOGGLE ─────────────────────────────────────────── */

.lang-toggle {
    position: relative;
    z-index: 2;
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin: clamp(14px, 2.2vw, 26px) auto 0;
    width: fit-content;
    padding: 0.35rem;
    border-radius: var(--radius-pill);
    border: 1px solid var(--gray-700);
    background: rgba(22, 24, 36, 0.66);
    box-shadow: 0 8px 24px rgba(10, 12, 18, 0.36);
    backdrop-filter: blur(8px);
}

.lang-toggle__btn {
    min-height: 52px;
    min-width: 56px;
    padding: 0.62rem 1.1rem;
    font-size: clamp(0.9rem, 1.45vw, 1.05rem);
    border-radius: 14px;
}

.lang-toggle__btn--active {
    border: var(--game-btn-border-active);
    background: var(--game-btn-bg-active);
    color: var(--text-main);
    box-shadow: 0 0 18px rgba(155, 195, 255, 0.3);
}

/* ─── CENTER BLOCK ────────────────────────────────────────────── */

.lobby-screen {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding: calc(var(--safe-area-top) + 20vh) var(--space-xl) var(--space-xl);
    text-align: center;
    gap: clamp(20px, 3.4vh, 42px);
}

.lobby__title-wrap {
    position: relative;
    margin: 0;
    padding: clamp(0.55rem, 1.4vw, 0.95rem) clamp(1rem, 3vw, 2rem);
    border-radius: clamp(16px, 2.8vw, 26px);
    border: 1px solid rgba(160, 173, 199, 0.34);
    background:
        linear-gradient(180deg, rgba(20, 24, 34, 0.9), rgba(12, 14, 20, 0.76)),
        rgba(14, 17, 24, 0.74);
    box-shadow:
        0 18px 48px rgba(6, 8, 12, 0.62),
        inset 0 1px 0 rgba(243, 241, 236, 0.12);
    backdrop-filter: blur(8px);
}

.lobby__title {
    position: relative;
    font-family: var(--font-title);
    font-size: clamp(3.2rem, 10vw, 7.8rem);
    font-weight: 700;
    letter-spacing: 0.08em;
    line-height: 0.9;
    margin: 0;
    text-transform: uppercase;
    color: transparent;
    background-image:
        linear-gradient(106deg,
            #FFDFAE 0%,
            #F5C88A 16%,
            #9BC3FF 34%,
            #6F8FAF 50%,
            #00F0FF 64%,
            #E056FF 78%,
            #B04DFF 89%,
            #FF3A4F 100%);
    background-size: 220% 220%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-stroke: 0 transparent;
    animation: title-spectrum 10s ease-in-out infinite;
    text-shadow:
        0 0 10px rgba(255, 223, 174, 0.36),
        0 0 18px rgba(155, 195, 255, 0.32),
        0 8px 28px rgba(6, 9, 14, 0.62);
    filter: saturate(118%) blur(0.2px);
}

.lobby__title-wrap::after {
    content: '';
    position: absolute;
    inset: -8% -6%;
    pointer-events: none;
    border-radius: inherit;
    background:
        radial-gradient(48% 50% at 50% 50%, rgba(155, 195, 255, 0.14), rgba(155, 195, 255, 0) 70%),
        radial-gradient(42% 46% at 48% 52%, rgba(245, 200, 138, 0.13), rgba(245, 200, 138, 0) 72%);
    filter: blur(18px);
    z-index: -1;
}

.lobby-screen::before {
    content: '';
    position: absolute;
    inset: 10% -8% 18%;
    pointer-events: none;
    z-index: -1;
    background:
        radial-gradient(52% 42% at 50% 30%, rgba(111, 143, 175, 0.34), rgba(22, 24, 36, 0) 74%),
        radial-gradient(48% 36% at 52% 62%, rgba(245, 200, 138, 0.25), rgba(22, 24, 36, 0) 80%);
    opacity: 0.62;
    filter: blur(20px) saturate(108%);
}

.lobby-screen__actions {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: clamp(0.95rem, 1.7vw, 1.25rem);
    padding: clamp(1rem, 2.2vw, 1.5rem);
    border: 1px solid rgba(128, 140, 166, 0.45);
    border-radius: clamp(16px, 2.8vw, 26px);
    background:
        linear-gradient(180deg, rgba(70, 82, 118, 0.32), rgba(15, 18, 27, 0.84)),
        var(--panel-float);
    box-shadow:
        0 20px 52px rgba(10, 12, 18, 0.58),
        inset 0 1px 0 rgba(232, 230, 227, 0.16);
    backdrop-filter: blur(12px);
}

.lobby__btn {
    min-height: 52px;
    padding: clamp(0.95rem, 2.1vw, 1.2rem) clamp(1.4rem, 3.6vw, 2.2rem);
    font-size: clamp(1.05rem, 2.15vw, 1.35rem);
    border-radius: 14px;
    min-width: min(84vw, 420px);
    transform: translateY(0);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    text-shadow: 0 1px 0 rgba(6, 8, 12, 0.75);
}

.lang-toggle__btn,
.lobby__btn {
    font-family: var(--font-ui);
    font-weight: 700;
    letter-spacing: 0.08em;
    text-transform: uppercase;
}

.lobby__btn:hover {
    transform: translateY(-1px);
    box-shadow:
        var(--game-btn-shadow-hover),
        0 0 20px rgba(255, 223, 174, 0.26),
        0 0 26px rgba(155, 195, 255, 0.22);
}

@keyframes title-spectrum {
    0% {
        background-position: 0% 50%;
        filter: saturate(105%);
    }

    50% {
        background-position: 100% 50%;
        filter: saturate(125%);
    }

    100% {
        background-position: 0% 50%;
        filter: saturate(105%);
    }
}

@keyframes dream-shift-a {
    0% {
        transform: translate(0, 0) scale(1);
    }

    100% {
        transform: translate(4%, 8%) scale(1.08);
    }
}

@keyframes dream-shift-b {
    0% {
        transform: translate(0, 0) scale(1);
    }

    100% {
        transform: translate(-6%, -4%) scale(1.06);
    }
}

/* ─── LOGOUT BUTTON ───────────────────────────────────────────── */

.sign-out-btn {
    position: absolute;
    top: var(--ui-edge-top);
    left: var(--ui-edge-left);

    width: var(--icon-btn-size-sm);
    height: var(--icon-btn-size-sm);

    display: flex;
    align-items: center;
    justify-content: center;

    border-radius: var(--radius-circle);

    font-size: var(--font-md);
    z-index: 10;
}

@media (max-width: 720px) {
    .lobby-screen {
        padding-top: calc(var(--safe-area-top) + 18vh);
        gap: clamp(16px, 3vh, 28px);
    }

    .lang-toggle {
        margin-top: clamp(10px, 3vw, 14px);
        gap: 0.35rem;
        padding: 0.25rem;
    }

    .lang-toggle__btn {
        min-height: 44px;
        min-width: 48px;
        padding: 0.5rem 0.8rem;
        font-size: clamp(0.78rem, 3vw, 0.94rem);
    }

    .lobby__title {
        font-size: clamp(2.4rem, 13vw, 4rem);
        letter-spacing: 0.06em;
    }

    .lobby__title-wrap {
        margin-bottom: clamp(0.9rem, 4.4vw, 1.25rem);
        padding: clamp(0.45rem, 2.4vw, 0.75rem) clamp(0.75rem, 3.8vw, 1.1rem);
    }

    .lobby__btn {
        min-width: min(90vw, 390px);
        font-size: clamp(0.92rem, 4.2vw, 1.14rem);
        padding: 0.78rem 1.1rem;
    }

    .lobby-screen__actions {
        width: min(92vw, 420px);
        padding: 0.8rem;
    }
}
