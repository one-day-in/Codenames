function f(t){const n=[...t];for(let o=n.length-1;o>0;o--){const r=Math.floor(Math.random()*(o+1));[n[o],n[r]]=[n[r],n[o]]}return n}function u(t,n){if(n>t.length)throw new Error(`Cannot pick ${n} from array of ${t.length}`);return f(t).slice(0,n)}function m(t){const n=t*t,o=Math.random()<.5?"resonant":"dissonant",r=Math.ceil(n/3),e=r-1,c=o==="resonant"?r:e,s=o==="dissonant"?r:e,a=1,l=n-c-s-a,i=[...Array(c).fill("resonant"),...Array(s).fill("dissonant"),...Array(l).fill("anomaly"),...Array(a).fill("nightmare")];return{roles:f(i),startsFirst:o}}const h={resonant:9,dissonant:9,anomaly:7,nightmare:1};function d(t){return f(Array.from({length:t},(n,o)=>o+1))}function g({size:t,words:n}){const{roles:o,startsFirst:r}=m(t),e=Object.fromEntries(Object.entries(h).map(([s,a])=>[s,d(a)]));return{cells:u(n,t*t).map((s,a)=>{const l=o[a],i=e[l].shift()??1;return{word:s,role:l,imageVariant:i,revealed:!1}}),startsFirst:r}}export{g as c};
