:root{--resonant: #7B2FBE;--resonant-dark: #5a1f8f;--resonant-darker: #3d1260;--resonant-light: #b57bee;--resonant-neon: rgba(123, 47, 190, .3);--resonant-neon-md: rgba(123, 47, 190, .5);--resonant-neon-lg: rgba(123, 47, 190, .7);--dissonant: #1B7A6E;--dissonant-dark: #125449;--dissonant-darker: #0a332d;--dissonant-light: #4db8aa;--dissonant-neon: rgba(27, 122, 110, .3);--dissonant-neon-md: rgba(27, 122, 110, .5);--dissonant-neon-lg: rgba(27, 122, 110, .7);--anomaly: #2E3A4E;--anomaly-light: #4a5a6e;--nightmare: #1A0A0A;--nightmare-glow: rgba(180, 30, 30, .4);--card-text-light: rgba(255, 255, 255, .92);--card-text-dim: rgba(255, 255, 255, .5);--card-text-dark: rgba(0, 0, 0, .75);--bg-deep: #0D0D2B;--bg-mid: #141428;--bg-surface: #1C1C3A;--bg-card: #252545;--white: #ffffff;--gray-100: #f0eeff;--gray-200: #c8c0e0;--gray-300: #9080b0;--gray-400: #6a5a8a;--gray-500: #4a3a6a;--gray-600: #352a50;--gray-700: #241d38;--gray-800: #180f28;--gray-900: #0e0818;--overlay-sm: rgba(0, 0, 0, .2);--overlay-md: rgba(0, 0, 0, .4);--overlay-lg: rgba(5, 3, 20, .6);--overlay-xl: rgba(5, 3, 20, .82);--white-10: rgba(255, 255, 255, .07);--white-20: rgba(255, 255, 255, .14);--white-50: rgba(255, 255, 255, .45);--white-70: rgba(255, 255, 255, .7);--shadow-sm: 0 2px 8px rgba(0, 0, 0, .4);--shadow-md: 0 4px 20px rgba(0, 0, 0, .5);--shadow-lg: 0 8px 30px rgba(0, 0, 0, .6);--shadow-xl: 0 20px 60px rgba(0, 0, 0, .8);--radius-sm: 6px;--radius-md: 12px;--radius-lg: 20px;--radius-xl: 40px;--radius-pill: 50px;--radius-circle: 50%;--transition-fast: .2s ease;--transition-base: .3s ease;--transition-slow: .5s ease;--transition-bounce: .5s cubic-bezier(.34, 1.56, .64, 1);--transition-smooth: .4s cubic-bezier(.4, 0, .2, 1);--font-family: "PT Serif", serif;--font-xs: .8rem;--font-sm: .95rem;--font-md: 1.1rem;--font-lg: 1.3rem;--font-xl: 1.6rem;--font-2xl: 2.2rem;--font-3xl: 3.4rem;--space-xs: 4px;--space-sm: 8px;--space-md: 16px;--space-lg: 24px;--space-xl: 32px;--space-2xl: 48px;--glass-bg: rgba(15, 8, 3, .55);--glass-bg-hover: rgba(15, 8, 3, .82);--glass-border: rgba(180, 140, 90, .25);--glass-border-hover: rgba(180, 140, 90, .55);--glass-color: rgba(210, 185, 145, .75);--glass-color-hover: rgba(230, 205, 165, 1);--glass-blur: 6px}*,*:before,*:after{box-sizing:border-box}button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none;padding:0;margin:0;font-family:var(--font-family);color:inherit;cursor:pointer;line-height:1}button:disabled{cursor:not-allowed;opacity:.4}html,body{height:100%;margin:0;overflow:hidden}html{background:#000}body{font-family:var(--font-family);color:var(--white);position:relative;background-color:#000;z-index:0;isolation:isolate}#loader{position:fixed;top:0;right:0;bottom:0;left:0;z-index:10000;background:var(--bg-deep);display:flex;align-items:center;justify-content:center;transition:opacity .7s ease;pointer-events:all}#loader.is-hidden{opacity:0;pointer-events:none}.loader__dots{display:flex;gap:10px}.loader__dots span{width:7px;height:7px;border-radius:50%;background:var(--glass-color);animation:loader-pulse 1.4s ease-in-out infinite}.loader__dots span:nth-child(2){animation-delay:.22s}.loader__dots span:nth-child(3){animation-delay:.44s}@keyframes loader-pulse{0%,to{opacity:.2;transform:scale(.7)}50%{opacity:1;transform:scale(1)}}body:after{content:"";position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:-1;background-image:url(/sleepwalkers/assets/background-landscape-znDpgku6.jpg);background-repeat:no-repeat;background-position:center top;background-size:auto 100vh}@media (orientation: portrait){body:after{background-image:url(/sleepwalkers/assets/background-portrait-C1uIhaux.jpg)}}@media (orientation: landscape){body:after{background-image:url(/sleepwalkers/assets/background-landscape-znDpgku6.jpg)}}@supports (height: 100svh){body:after{background-size:auto 100svh}}@supports (height: 100dvh){body:after{background-size:auto 100dvh}}:root{--grid-gap: clamp(3px, 1vw, 8px);--grid-pad: clamp(1%, 3.5vw, 3%)}.grid{display:grid;box-sizing:border-box}.grid--5{grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(5,1fr);gap:var(--grid-gap);padding:var(--grid-pad)}.game .grid,.guide .grid,.walker .grid{--_size: min(100dvw - var(--grid-pad) * 2, 100dvh - var(--grid-pad) * 2);width:var(--_size);height:var(--_size);flex-shrink:0}.cell{position:relative;aspect-ratio:1 / 1;display:flex;align-items:center;justify-content:center;overflow:hidden;min-width:0;min-height:0;border-radius:var(--radius-sm);-webkit-user-select:none;user-select:none;background-size:cover;background-position:center;background-repeat:no-repeat;transition:transform .12s ease,opacity .12s ease}.cell__content{display:block;max-width:90%;overflow:hidden;padding:0 8%;font-family:var(--font-family);font-weight:700;font-size:1rem;text-transform:uppercase;letter-spacing:.5px;text-align:center;line-height:1.2}.cell--hidden{color:var(--gray-500);background-image:image-set(url(/sleepwalkers/assets/card-hidden-BcJjpqei.png) 1x,url(/sleepwalkers/assets/card-hidden-BcJjpqei.png) 2x)}.guide .cell--revealed{opacity:.28;filter:grayscale(.3)}.cell--clickable{cursor:pointer}.cell--clickable:active{transform:scale(.93);opacity:.85}.cell--nightmare{background-color:var(--nightmare);color:var(--card-text-light)}.cell--anomaly-1,.cell--anomaly-2,.cell--anomaly-3,.cell--anomaly-4,.cell--anomaly-5,.cell--anomaly-6,.cell--anomaly-7{background-color:var(--anomaly);color:var(--card-text-dim)}.cell--resonant-1,.cell--resonant-2,.cell--resonant-3,.cell--resonant-4,.cell--resonant-5,.cell--resonant-6,.cell--resonant-7,.cell--resonant-8,.cell--resonant-9{background-color:var(--resonant);color:var(--card-text-light)}.cell--dissonant-1,.cell--dissonant-2,.cell--dissonant-3,.cell--dissonant-4,.cell--dissonant-5,.cell--dissonant-6,.cell--dissonant-7,.cell--dissonant-8,.cell--dissonant-9{background-color:var(--dissonant);color:var(--card-text-light)}.game,.guide,.walker{position:relative;width:100dvw;height:100dvh;display:flex;align-items:center;justify-content:center;overflow:hidden}.btn-back{position:absolute;top:var(--space-sm);left:var(--space-sm);z-index:10;display:flex;align-items:center;justify-content:center;width:44px;height:44px}.game__score{position:absolute;top:var(--space-sm);left:50%;transform:translate(-50%);z-index:10;display:flex;gap:var(--space-xl);font-size:clamp(1rem,2.5vw,1.4rem);font-weight:800;letter-spacing:3px;white-space:nowrap}.gameover-banner{position:absolute;top:var(--game-header-h, 60px);left:0;right:0;z-index:10;padding:.5rem 1rem;text-align:center;font-size:clamp(.75rem,2vw,1rem);font-weight:700;letter-spacing:2px;text-transform:uppercase;box-sizing:border-box}.guide__status{position:absolute;top:var(--space-sm);left:var(--space-sm);z-index:10;font-size:clamp(.9rem,3vw,1.2rem);font-weight:800;letter-spacing:2px}.guide__btns{position:absolute;bottom:0;left:0;right:0;z-index:10;display:grid;grid-template-columns:repeat(4,1fr);gap:clamp(4px,1.5vw,10px);padding:var(--space-sm) var(--space-sm) 8%;box-sizing:border-box}.guide__num-btn{display:flex;align-items:center;justify-content:center;min-width:clamp(36px,9vw,52px);min-height:clamp(36px,9vw,52px);padding:0;font-size:clamp(.8rem,3vw,1rem);font-weight:700}.walker__status{position:absolute;top:var(--space-sm);left:var(--space-sm);z-index:10;font-size:clamp(.9rem,3vw,1.2rem);font-weight:800;letter-spacing:2px}.walker__end-turn{position:absolute;bottom:var(--space-sm);right:var(--space-sm);z-index:10;padding:var(--space-xs) var(--space-sm);font-size:clamp(.8rem,2.5vw,1rem);font-weight:700;letter-spacing:2px;text-transform:uppercase}.awake-screen{display:flex;align-items:center;justify-content:center;width:100dvw;min-height:100dvh}.awake-screen__content{display:flex;flex-direction:column;align-items:center;gap:var(--space-lg);text-align:center;padding:var(--space-xl)}.awake-screen__title{font-size:clamp(.9rem,3vw,1.4rem);font-weight:800;letter-spacing:5px;text-transform:uppercase}.awake-screen__awakening{font-size:clamp(1.4rem,6vw,3rem);font-weight:800;letter-spacing:2px;text-transform:uppercase;line-height:1.2}.awake-screen__role{font-size:clamp(.85rem,2.5vw,1.1rem);letter-spacing:2px;text-transform:uppercase}.awake-screen__new-game-btn{padding:clamp(12px,3vw,18px) clamp(28px,6vw,56px);font-size:clamp(.85rem,2.5vw,1.1rem);font-weight:700;letter-spacing:2px;text-transform:uppercase}.waiting-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-lg);width:100dvw;min-height:100dvh;padding:var(--space-xl);text-align:center;box-sizing:border-box}.waiting-screen__title{font-size:clamp(1.2rem,4vw,2rem);font-weight:800;letter-spacing:4px;text-transform:uppercase}.error-screen{display:flex;align-items:center;justify-content:center;width:100dvw;min-height:100dvh;padding:var(--space-xl);text-align:center;box-sizing:border-box;font-size:clamp(.9rem,2.5vw,1.1rem)}.app-footer{position:absolute;bottom:0;left:0;right:0;z-index:10;display:flex;align-items:center;justify-content:space-between;height:var(--game-footer-h);padding:0 var(--space-md);box-sizing:border-box}.btn-icon{background:var(--glass-bg);-webkit-backdrop-filter:blur(var(--glass-blur));backdrop-filter:blur(var(--glass-blur));border:1px solid var(--glass-border);border-radius:var(--radius-sm);color:var(--glass-color);cursor:pointer;transition:background var(--transition-fast),border-color var(--transition-fast),color var(--transition-fast)}.btn-icon:hover{background:var(--glass-bg-hover);border-color:var(--glass-border-hover);color:var(--glass-color-hover)}.btn-icon:active{transform:scale(.92)}.btn-icon svg{display:block;width:24px;height:24px;pointer-events:none}.fullscreen-btn{position:absolute;bottom:var(--space-sm);right:var(--space-sm);z-index:10;display:flex;align-items:center;justify-content:center;width:44px;height:44px}.btn-profile{position:absolute;top:var(--space-sm);right:var(--space-sm);z-index:10;display:flex;align-items:center;justify-content:center;width:44px;height:44px}.sign-out-btn{display:flex;align-items:center;justify-content:center}.qr-panel{display:flex;gap:var(--space-md);justify-content:center;flex-wrap:wrap}.qr-panel__group{display:flex;flex-direction:column;align-items:center;gap:var(--space-sm)}.qr-panel__group-title{font-size:clamp(.75rem,2vw,.95rem);font-weight:700;letter-spacing:3px;text-transform:uppercase;margin:0}.qr-panel__group-cards{display:flex;gap:var(--space-md)}.qr-panel__block{display:flex;flex-direction:column;align-items:center;gap:var(--space-sm)}.qr-wrapper{display:flex;align-items:center;justify-content:center}.qr-image{display:block;border-radius:var(--radius-sm)}.qr-panel__label{font-size:clamp(.65rem,1.5vw,.8rem);letter-spacing:1px;text-transform:uppercase;margin:0}.qr-panel__check{font-size:1.2rem}.qr-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:100;display:flex;align-items:center;justify-content:center}.qr-modal__backdrop{position:absolute;top:0;right:0;bottom:0;left:0}.qr-modal__content{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;gap:var(--space-md);padding:var(--space-xl);max-width:90dvw;border-radius:var(--radius-md)}.qr-modal__close{position:absolute;top:var(--space-sm);right:var(--space-sm);width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);font-size:1rem}@media (orientation: landscape){.guide__btns{top:0;bottom:0;left:auto;right:0;width:clamp(90px,20vw,140px);grid-template-columns:repeat(2,1fr);align-content:center}.guide__num-btn{min-width:0;min-height:clamp(28px,6vw,42px);font-size:clamp(.7rem,2.5vw,.9rem)}}@media (max-width: 400px){.grid--5{gap:clamp(2px,.8vw,4px)}}.app{position:relative;min-height:100dvh;display:grid;grid-template-rows:auto 1fr}.lang-toggle{display:flex;justify-content:center;gap:.5rem;padding:var(--space-xl) var(--space-2xl) 0}.lang-toggle__btn{border:1px solid var(--gray-500);color:var(--gray-200);padding:.4rem .8rem;border-radius:var(--radius-sm);font-size:var(--font-sm)}.lang-toggle__btn--active{background:var(--gray-500)}.lobby-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--space-xl);text-align:center}.lobby__title{font-size:var(--font-2xl);margin-bottom:var(--space-xl)}.lobby-screen__actions{display:flex;flex-direction:column;gap:var(--space-md)}.lobby__btn{border-radius:var(--radius-md);padding:.8rem 1.6rem;font-size:var(--font-md)}.sign-out-btn{position:absolute;top:var(--space-xl);left:var(--space-xl);width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-circle);border:1px solid var(--gray-500);font-size:var(--font-md);z-index:10}
